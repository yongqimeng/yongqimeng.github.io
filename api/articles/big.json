{"title":"js浮点数精度问题","uid":"cada60e87d054c93666c458bd3273f9a","slug":"big","date":"2025-03-16T10:09:50.000Z","updated":"2025-09-18T07:35:16.860Z","comments":true,"path":"api/articles/big.json","keywords":null,"cover":"/images/cover1.jpg","content":"<h2 id=\"使用big-js处理js浮点数精度问题\"><a href=\"#使用big-js处理js浮点数精度问题\" class=\"headerlink\" title=\"使用big.js处理js浮点数精度问题\"></a>使用big.js处理js浮点数精度问题</h2><h4 id=\"最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big-js处理浮点数精度问题。\"><a href=\"#最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big-js处理浮点数精度问题。\" class=\"headerlink\" title=\"最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big.js处理浮点数精度问题。\"></a>最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big.js处理浮点数精度问题。</h4><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cartItems = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">price</span>: <span class=\"number\">19.99</span>, <span class=\"attr\">quantity</span>: <span class=\"number\">2</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">price</span>: <span class=\"number\">5.50</span>, <span class=\"attr\">quantity</span>: <span class=\"number\">3</span> &#125;</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> total = <span class=\"keyword\">new</span> <span class=\"title class_\">Big</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">cartItems.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> itemTotal = <span class=\"keyword\">new</span> <span class=\"title class_\">Big</span>(item.<span class=\"property\">price</span>).<span class=\"title function_\">times</span>(item.<span class=\"property\">quantity</span>);  <span class=\"comment\">// 计算单件商品小计</span></span><br><span class=\"line\">  total = total.<span class=\"title function_\">plus</span>(itemTotal);  <span class=\"comment\">// 累加到总价</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(total.<span class=\"title function_\">toFixed</span>(<span class=\"number\">2</span>));  <span class=\"comment\">// 输出 &quot;56.97&quot;（无精度丢失）</span></span><br></pre></td></tr></table></figure>","text":"使用big.js处理js浮点数精度问题最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big.js处理...","permalink":"/post/big","photos":[],"count_time":{"symbolsCount":435,"symbolsTime":"1 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"tools","slug":"tools","count":4,"path":"api/tags/tools.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8big-js%E5%A4%84%E7%90%86js%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">使用big.js处理js浮点数精度问题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9C%80%E8%BF%91%E5%86%99%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%95%86%E5%93%81%E8%AE%A1%E4%BB%B7%E9%81%87%E5%88%B0%E4%B8%80%E4%B8%AA%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98%EF%BC%8C%E4%BD%BF%E7%94%A8js%E7%9A%84%E6%B5%AE%E7%82%B9%E6%95%B0%E8%BF%90%E7%AE%97%EF%BC%8C%E7%BB%93%E6%9E%9C%E4%B8%8D%E7%AC%A6%E5%90%88%E9%A2%84%E6%9C%9F%EF%BC%8C%E8%BF%99%E9%87%8C%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E4%BD%BF%E7%94%A8big-js%E5%A4%84%E7%90%86%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98%E3%80%82\"><span class=\"toc-text\">最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big.js处理浮点数精度问题。</span></a></li></ol></li></ol></li></ol>","author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"copyApi","uid":"cb1a9046967408aa76a1f34c0c4e4858","slug":"copyApi","date":"2025-03-29T06:01:28.000Z","updated":"2025-09-18T07:39:19.583Z","comments":true,"path":"api/articles/copyApi.json","keywords":null,"cover":"/images/cover1.jpg","text":"web api 复制功能<button onclick=\"copyText()\">复制</button><span id=\"target-text\">需要复制的...","permalink":"/post/copyApi","photos":[],"count_time":{"symbolsCount":508,"symbolsTime":"1 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"Web API","slug":"Web-API","count":5,"path":"api/tags/Web-API.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"记一次根据滚动方向的执行的动画","uid":"188442f1e3ef788a161e45fb6af1fd78","slug":"scroll-animation","date":"2024-07-20T07:08:38.000Z","updated":"2024-10-09T13:03:36.750Z","comments":true,"path":"api/articles/scroll-animation.json","keywords":null,"cover":"/images/cover1.jpg","text":"记录整理最近写的需求，根据滚动条判断手势滑动方向，下滑正常样式，向上滚动展示组件，这里我用一个导航栏代替 主要代码 .wrapper__nav.wrapper_...","permalink":"/post/scroll-animation","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"vue","slug":"vue","count":3,"path":"api/categories/vue.json"}],"tags":[{"name":"animation","slug":"animation","count":3,"path":"api/tags/animation.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
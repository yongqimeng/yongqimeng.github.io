{"title":"获取url参数，设置url参数","uid":"1e50defbd0e228f93ecdc9666a341d83","slug":"geturlparam","date":"2023-04-01T05:10:36.000Z","updated":"2024-10-13T04:32:42.142Z","comments":true,"path":"api/articles/geturlparam.json","keywords":null,"cover":"/images/cover1.jpg","content":"<p>封装一下 获取 url 参数和设置 url 参数的方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//设置url某个参数的方法</span></span><br><span class=\"line\"><span class=\"title function_\">changeUrlParameter</span>(<span class=\"params\">url, parameterName, newValue</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> regex = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&quot;([?&amp;])&quot;</span> + parameterName + <span class=\"string\">&quot;=.*?(&amp;|$)&quot;</span>, <span class=\"string\">&quot;i&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (regex.<span class=\"title function_\">test</span>(url)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> url.<span class=\"title function_\">replace</span>(regex, <span class=\"string\">&quot;$1&quot;</span> + parameterName + <span class=\"string\">&quot;=&quot;</span> + <span class=\"built_in\">encodeURIComponent</span>(newValue) + <span class=\"string\">&quot;$2&quot;</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (url.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot;?&quot;</span>)!== -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> url + <span class=\"string\">&quot;&amp;&quot;</span> + parameterName + <span class=\"string\">&quot;=&quot;</span> + <span class=\"built_in\">encodeURIComponent</span>(newValue);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> url + <span class=\"string\">&quot;?&quot;</span> + parameterName + <span class=\"string\">&quot;=&quot;</span> + <span class=\"built_in\">encodeURIComponent</span>(newValue);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//获取URL某个参数的方法</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getUrlParam</span>(<span class=\"params\">paramName</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> url = <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">href</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> regex = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&#x27;[?&amp;]&#x27;</span> + paramName + <span class=\"string\">&#x27;=([^&amp;#]*)&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> match = regex.<span class=\"title function_\">exec</span>(url);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> match ? <span class=\"built_in\">decodeURIComponent</span>(match[<span class=\"number\">1</span>]) : <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","text":"封装一下 获取 url 参数和设置 url 参数的方法 //设置url某个参数的方法changeUrlParameter(url, parameterName,...","permalink":"/post/geturlparam","photos":[],"count_time":{"symbolsCount":985,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"utils","slug":"utils","count":1,"path":"api/tags/utils.json"}],"toc":"","author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"封装canvas画分享图能力","uid":"5ec98a85a99b57e340a9a2a9ff61c2c1","slug":"canvas-screenshot","date":"2023-08-20T09:18:20.000Z","updated":"2024-10-09T13:25:38.667Z","comments":true,"path":"api/articles/canvas-screenshot.json","keywords":null,"cover":"/images/cover1.jpg","text":"整理了一下工作中封装的画分享海报的能力 class ShareCanvas { constructor(config) { this.width = confi...","permalink":"/post/canvas-screenshot","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"canvas","slug":"canvas","count":1,"path":"api/categories/canvas.json"}],"tags":[{"name":"canvas","slug":"canvas","count":1,"path":"api/tags/canvas.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"git 常用命令","uid":"62bc8025e0eb197d420ffa98bc79c161","slug":"git","date":"2023-03-19T03:23:28.000Z","updated":"2024-10-09T12:52:12.936Z","comments":true,"path":"api/articles/git.json","keywords":null,"cover":"/images/cover1.jpg","text":"目前常用的git命令整理 1，git init 初始化一个新的Git仓库。 这将在当前目录中创建一个名为”.git”的子目录，Git会将所有仓库的元数据存储在其...","permalink":"/post/git","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"git","slug":"git","count":2,"path":"api/categories/git.json"}],"tags":[{"name":"git","slug":"git","count":2,"path":"api/tags/git.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
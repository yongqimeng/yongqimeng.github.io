{"title":"EyeDropper API","uid":"318aeaee046984c3662b395e9f7232a5","slug":"EyeDropper","date":"2024-03-02T07:01:12.000Z","updated":"2024-10-16T14:59:32.317Z","comments":true,"path":"api/articles/EyeDropper.json","keywords":null,"cover":"/images/cover1.jpg","content":"<p>创意应用通常允许用户从应用程序中的绘图或形状中取样颜色以便重用。Web 应用程序可以利用 EyeDropper API，通过浏览器提供类似的拾色器模式。</p>\n<p>使用该 API，Web 应用程序可以启动拾色器模式。一旦启动，光标会变化以提示用户拾色器模式处于活动状态。用户可以从屏幕上的任意位置选择颜色，或者按下 Escape 键取消拾色器模式。</p>\n<p>该 API 不允许在没有用户意图的情况下启动拾色器模式。只能在用户操作（例如按钮点击）的响应中调用 EyeDropper.prototype.open() 方法。</p>\n<p>在没有用户新的意图的情况下，无法再次获取任何像素信息。由 EyeDropper.prototype.open() 返回的 Promise 只会在用户操作（例如点击像素）的响应中返回一个颜色值。因此，无法在用户不知情的情况下在后台使用拾色器。</p>\n<p>为了帮助用户更容易地注意到拾色器模式，浏览器会提供明显的提示。在启动拾色器模式后，正常的鼠标光标会在短暂延迟后消失，取而代之的是一个放大镜图标。此外，拾色器模式开始和用户能够选择像素之间存在一段延迟，以确保用户有足够的时间看到放大镜图标。<br>用户还可以随时取消拾色器模式（通过按下 Escape 键）。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">btn.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"title function_\">async</span> () =&gt; &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 监听按钮的点击事件</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> eyeDropper.<span class=\"title function_\">open</span>(); <span class=\"comment\">// 开始拾取颜色</span></span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> colorHexValue = result.<span class=\"property\">sRGBHex</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(colorHexValue); <span class=\"comment\">// 打印出颜色的值</span></span><br><span class=\"line\">      droppertext.<span class=\"property\">innerText</span> = colorHexValue;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">style</span>.<span class=\"property\">background</span> = colorHexValue;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;用户取消了取色&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://codepen.io/yongqimeng/pen/MWNpQRY\">EyeDropper–codepen</a>;</p>\n","feature":false,"text":"创意应用通常允许用户从应用程序中的绘图或形状中取样颜色以便重用。Web 应用程序可以利用 EyeDropper API，通过浏览器提供类似的拾色器模式。 使用该...","permalink":"/post/EyeDropper","photos":[],"count_time":{"symbolsCount":987,"symbolsTime":"1 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"Web API","slug":"Web-API","count":5,"path":"api/tags/Web-API.json"}],"toc":"","author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"屏幕适配方案","uid":"758086e3bca7c26b0f11ceb6e2c6e587","slug":"屏幕适配方案","date":"2024-05-18T02:26:36.000Z","updated":"2024-10-09T13:09:15.618Z","comments":true,"path":"api/articles/屏幕适配方案.json","keywords":null,"cover":"/images/cover1.jpg","text":"1.使用 @media搭配 rem 单位rem是相对于根html元素的字体大小的单位 html { font-size: 16px;}span { font-s...","permalink":"/post/屏幕适配方案","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"html&css","slug":"html-css","count":12,"path":"api/categories/html-css.json"}],"tags":[{"name":"html&css","slug":"html-css","count":3,"path":"api/tags/html-css.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Web Animation API","uid":"da362a96629596348f7f7dfa7c5960d5","slug":"web-animation","date":"2024-02-25T08:37:38.000Z","updated":"2024-10-09T13:21:36.716Z","comments":true,"path":"api/articles/web-animation.json","keywords":null,"cover":"/images/cover1.jpg","text":"简单写一个例子记录一下 Web Animation API, animate (array,Object); array: 主要传一个动画数组对象，来定义动画，...","permalink":"/post/web-animation","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"Web API","slug":"Web-API","count":5,"path":"api/tags/Web-API.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
{"title":"copyApi","uid":"cb1a9046967408aa76a1f34c0c4e4858","slug":"copyApi","date":"2025-03-29T06:01:28.000Z","updated":"2025-09-18T07:39:19.583Z","comments":true,"path":"api/articles/copyApi.json","keywords":null,"cover":"/images/cover1.jpg","content":"<h2 id=\"web-api-复制功能\"><a href=\"#web-api-复制功能\" class=\"headerlink\" title=\"web api 复制功能\"></a>web api 复制功能</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;button onclick=<span class=\"string\">&quot;copyText()&quot;</span>&gt;复制&lt;/button&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;target-text&quot;</span>&gt;</span>需要复制的文字<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">copyText</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">const</span> text = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;target-text&#x27;</span>).<span class=\"property\">innerText</span>;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">try</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"keyword\">await</span> navigator.<span class=\"property\">clipboard</span>.<span class=\"title function_\">writeText</span>(text); <span class=\"comment\">// 写入剪贴板</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;复制成功！&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;复制失败：&#x27;</span>, err);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;请点击页面后重试或检查浏览器权限&#x27;</span>);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n","text":"web api 复制功能<button onclick=\"copyText()\">复制</button><span id=\"target-text\">需要复制的...","permalink":"/post/copyApi","photos":[],"count_time":{"symbolsCount":508,"symbolsTime":"1 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"Web API","slug":"Web-API","count":5,"path":"api/tags/Web-API.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#web-api-%E5%A4%8D%E5%88%B6%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">web api 复制功能</span></a></li></ol>","author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"gasp滚动动画插件","uid":"1a4fe8e70141b1d330581e14c7420257","slug":"gasp","date":"2025-05-16T07:08:38.000Z","updated":"2025-09-18T07:27:55.630Z","comments":true,"path":"api/articles/gasp.json","keywords":null,"cover":"/images/cover1.jpg","text":"最近无意间看到了scrollTrigger滚动插件，很有兴趣，就研究了一下这个插件，这里记录一下模仿oppo官网的动画效果文字随滚动条进度渐变参考https:/...","permalink":"/post/gasp","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"animation","slug":"animation","count":3,"path":"api/tags/animation.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"js浮点数精度问题","uid":"cada60e87d054c93666c458bd3273f9a","slug":"big","date":"2025-03-16T10:09:50.000Z","updated":"2025-09-18T07:35:16.860Z","comments":true,"path":"api/articles/big.json","keywords":null,"cover":"/images/cover1.jpg","text":"使用big.js处理js浮点数精度问题最近写后台管理系统，商品计价遇到一个浮点数精度问题，使用js的浮点数运算，结果不符合预期，这里记录一下使用big.js处理...","permalink":"/post/big","photos":[],"count_time":{"symbolsCount":435,"symbolsTime":"1 mins."},"categories":[{"name":"javascript","slug":"javascript","count":8,"path":"api/categories/javascript.json"}],"tags":[{"name":"tools","slug":"tools","count":3,"path":"api/tags/tools.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
{"title":"color_utils","uid":"287576a8923ab95c95feb27c51624507","slug":"color_utils","date":"2024-06-15T05:11:58.000Z","updated":"2024-10-27T03:03:09.471Z","comments":true,"path":"api/articles/color_utils.json","keywords":null,"cover":"/images/cover1.jpg","content":"<p>关于一些颜色转换的封装</p>\n<p>rgb –&gt; to hsl<br>rgb –&gt; to Hex<br>hex –&gt; to RGB<br>hex –&gt; to hsl<br>hsl –&gt; to Hex<br>hsl –&gt; to RGB</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">rgbToHsl</span> = (<span class=\"params\">rgb</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> r = rgb[<span class=\"number\">0</span>] / <span class=\"number\">255</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> g = rgb[<span class=\"number\">1</span>] / <span class=\"number\">255</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> b = rgb[<span class=\"number\">2</span>] / <span class=\"number\">255</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">const</span> max = <span class=\"title class_\">Math</span>.<span class=\"title function_\">max</span>(r, g, b);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> min = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(r, g, b);</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">let</span> h; <span class=\"keyword\">let</span> s; <span class=\"keyword\">const</span> v = max;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> d = max - min;</span><br><span class=\"line\">  </span><br><span class=\"line\">    s = max === <span class=\"number\">0</span> ? <span class=\"number\">0</span> : d / max;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (max === min) &#123;</span><br><span class=\"line\">      h = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">switch</span> (max) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"attr\">r</span>:</span><br><span class=\"line\">          h = (g - b) / d + (g &lt; b ? <span class=\"number\">6</span> : <span class=\"number\">0</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"attr\">g</span>:</span><br><span class=\"line\">          h = (b - r) / d + <span class=\"number\">2</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"attr\">b</span>:</span><br><span class=\"line\">          h = (r - g) / d + <span class=\"number\">4</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      h /= <span class=\"number\">6</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">const</span> l = (<span class=\"number\">2</span> - s) * v / <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (l != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (l == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        s = <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (l &lt; <span class=\"number\">0.5</span>) &#123;</span><br><span class=\"line\">        s = s * v / (l * <span class=\"number\">2</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        s = s * v / (<span class=\"number\">2</span> - l * <span class=\"number\">2</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(h * <span class=\"number\">360</span>), <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(s * <span class=\"number\">100</span>), <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(l * <span class=\"number\">100</span>)];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">rgbToHex</span> = (<span class=\"params\">rgb</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> r = <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(rgb[<span class=\"number\">0</span>]).<span class=\"title function_\">toString</span>(<span class=\"number\">16</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> g = <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(rgb[<span class=\"number\">1</span>]).<span class=\"title function_\">toString</span>(<span class=\"number\">16</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> b = <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(rgb[<span class=\"number\">2</span>]).<span class=\"title function_\">toString</span>(<span class=\"number\">16</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">    r = r.<span class=\"property\">length</span> === <span class=\"number\">1</span> ? <span class=\"string\">`0<span class=\"subst\">$&#123;r&#125;</span>`</span> : r;</span><br><span class=\"line\">    g = g.<span class=\"property\">length</span> === <span class=\"number\">1</span> ? <span class=\"string\">`0<span class=\"subst\">$&#123;g&#125;</span>`</span> : g;</span><br><span class=\"line\">    b = b.<span class=\"property\">length</span> === <span class=\"number\">1</span> ? <span class=\"string\">`0<span class=\"subst\">$&#123;b&#125;</span>`</span> : b;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`#<span class=\"subst\">$&#123;r&#125;</span><span class=\"subst\">$&#123;g&#125;</span><span class=\"subst\">$&#123;b&#125;</span>`</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">hexToRGB</span> = (<span class=\"params\">hex</span>) =&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> hexx = hex.<span class=\"title function_\">replace</span>(<span class=\"string\">&#x27;#&#x27;</span>, <span class=\"string\">&#x27;0x&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> r = hexx &gt;&gt; <span class=\"number\">16</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> g = hexx &gt;&gt; <span class=\"number\">8</span> &amp; <span class=\"number\">0xff</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> b = hexx &amp; <span class=\"number\">0xff</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [r, g, b];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">hexToHsl</span> = (<span class=\"params\">hex</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> rgb = <span class=\"title function_\">hexToRGB</span>(hex);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> hsl = <span class=\"title function_\">rgbToHsl</span>(rgb);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> hsl;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">hslToHex</span> = (<span class=\"params\">hsl</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> rgb = <span class=\"title function_\">hslToRGB</span>([hsl[<span class=\"number\">0</span>] / <span class=\"number\">360</span>, hsl[<span class=\"number\">1</span>] / <span class=\"number\">100</span>, hsl[<span class=\"number\">2</span>] / <span class=\"number\">100</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">rgbToHex</span>(rgb);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">hslToRGB</span> = (<span class=\"params\">hsl</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> h = hsl[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> s = hsl[<span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> l = hsl[<span class=\"number\">2</span>];</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">var</span> r, g, b;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      r = g = b = l;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">function</span> <span class=\"title function_\">hue2rgb</span>(<span class=\"params\">p, q, t</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t &lt; <span class=\"number\">0</span>) t += <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t &gt; <span class=\"number\">1</span>) t -= <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t &lt; <span class=\"number\">1</span>/<span class=\"number\">6</span>) <span class=\"keyword\">return</span> p + (q - p) * <span class=\"number\">6</span> * t;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t &lt; <span class=\"number\">1</span>/<span class=\"number\">2</span>) <span class=\"keyword\">return</span> q;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t &lt; <span class=\"number\">2</span>/<span class=\"number\">3</span>) <span class=\"keyword\">return</span> p + (q - p) * (<span class=\"number\">2</span>/<span class=\"number\">3</span> - t) * <span class=\"number\">6</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">      <span class=\"keyword\">var</span> q = l &lt; <span class=\"number\">0.5</span> ? l * (<span class=\"number\">1</span> + s) : l + s - l * s;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> p = <span class=\"number\">2</span> * l - q;</span><br><span class=\"line\">  </span><br><span class=\"line\">      r = <span class=\"title function_\">hue2rgb</span>(p, q, h + <span class=\"number\">1</span>/<span class=\"number\">3</span>);</span><br><span class=\"line\">      g = <span class=\"title function_\">hue2rgb</span>(p, q, h);</span><br><span class=\"line\">      b = <span class=\"title function_\">hue2rgb</span>(p, q, h - <span class=\"number\">1</span>/<span class=\"number\">3</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [ r * <span class=\"number\">255</span>, g * <span class=\"number\">255</span>, b * <span class=\"number\">255</span> ];</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>","text":"关于一些颜色转换的封装 rgb –> to hslrgb –> to Hexhex –> to RGBhex –> to hslhsl –> to Hexhsl...","permalink":"/post/color_utils","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"utils","slug":"utils","count":2,"path":"api/tags/utils.json"}],"toc":"","author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"记一次根据滚动方向的执行的动画","uid":"188442f1e3ef788a161e45fb6af1fd78","slug":"scroll-animation","date":"2024-07-20T07:08:38.000Z","updated":"2024-10-09T13:03:36.750Z","comments":true,"path":"api/articles/scroll-animation.json","keywords":null,"cover":"/images/cover1.jpg","text":"记录整理最近写的需求，根据滚动条判断手势滑动方向，下滑正常样式，向上滚动展示组件，这里我用一个导航栏代替 主要代码 .wrapper__nav.wrapper_...","permalink":"/post/scroll-animation","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"vue","slug":"vue","count":3,"path":"api/categories/vue.json"}],"tags":[{"name":"animation","slug":"animation","count":3,"path":"api/tags/animation.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"多行文本展开收起的实现方式","uid":"53e70211b9fa8a0658b9a8cefd096926","slug":"full-text","date":"2024-05-25T09:10:39.000Z","updated":"2024-10-09T13:24:14.021Z","comments":true,"path":"api/articles/full-text.json","keywords":null,"cover":"/images/cover1.jpg","text":"多行文本超过指定行数，进行文本截断并显示省略号，并通过展开和收起来控制是否显示全部内容，调研很多种方式，目前这个是最合适的且最终的实现方案。 具体代码 <tem...","permalink":"/post/full-text","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"html&css","slug":"html-css","count":12,"path":"api/categories/html-css.json"}],"tags":[{"name":"html&css","slug":"html-css","count":3,"path":"api/tags/html-css.json"}],"author":{"name":"M","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"这是我的博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}